<div class="table-wrapper fadeIn-animation">
    <table mat-table [dataSource]="products" class="mat-elevation-z8">
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef>Image</th>
            <td mat-cell *matCellDef="let product">
                <img
                    [src]="product.thumbnail"
                    [alt]="product.title"
                    width="60"
                    height="60"
                    style="object-fit: cover; border-radius: 4px;"
                    class="fadeIn-animation"
                />
            </td>
        </ng-container>
        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef>Title</th>
            <td class="fadeIn-animation" mat-cell *matCellDef="let product">{{ product.title }}</td>
        </ng-container>
        <ng-container matColumnDef="brand">
            <th mat-header-cell *matHeaderCellDef>Brand</th>
            <td class="fadeIn-animation" mat-cell *matCellDef="let product">{{ product.brand }}</td>
        </ng-container>
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef>Price</th>
            <td class="fadeIn-animation" mat-cell *matCellDef="let product">{{ product.price | currencyFormat }}</td>
        </ng-container>
        <ng-container matColumnDef="stock">
            <th mat-header-cell *matHeaderCellDef>Stock</th>
            <td 
                mat-cell 
                *matCellDef="let product"
                [style.color]="product.stock | stockColor"
                class="fadeIn-animation"
                > 
                {{ product.stock }} 
            </td>
        </ng-container>
        <ng-container matColumnDef="rating">
            <th mat-header-cell *matHeaderCellDef>Rating</th>
            <td class="fadeIn-animation" mat-cell *matCellDef="let product">{{ product.rating }}</td>
        </ng-container>
        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Actions</th>
            <td class="fadeIn-animation" mat-cell *matCellDef="let product">
              <button mat-icon-button color="primary" (click)="goToDetails.emit(product.id)">
                <mat-icon>info</mat-icon>
              </button>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="columns"></tr>
        <tr mat-row *matRowDef="let row; columns: columns;"></tr>
    </table>
    
    <mat-paginator
        [length]="length"
        [pageSize]="pageSize"
        [pageIndex]="pageIndex"
        [pageSizeOptions]="[10, 25, 50, 100]"
        (page)="pageChange.emit($event)">
    </mat-paginator>
</div>
